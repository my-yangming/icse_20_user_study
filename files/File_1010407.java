package jetbrains.mps.make.facets;

/*Generated by MPS */

import jetbrains.mps.components.CoreComponent;
import jetbrains.mps.make.facet.FacetRegistry;
import jetbrains.mps.make.facet.IFacet;

public class BootstrapMakeFacets implements CoreComponent {
  private static final String BASELANGUAGE_NAMESPACE = "jetbrains.mps.baseLanguage";
  private static final String CORELANGUAGE_NAMESPACE = "jetbrains.mps.lang.core";

  private final FacetRegistry myFacetRegistry;
  private IFacet javaCompileFacet;
  private IFacet reloadClassesFacet;
  private IFacet makeFacet;

  public BootstrapMakeFacets(FacetRegistry facetRegistry) {
    myFacetRegistry = facetRegistry;
  }

  public void init() {
    try {
      javaCompileFacet = JavaCompile_Facet.class.newInstance();
      reloadClassesFacet = ReloadClasses_Facet.class.newInstance();
      makeFacet = Make_Facet.class.newInstance();
      myFacetRegistry.register(BASELANGUAGE_NAMESPACE, javaCompileFacet);
      myFacetRegistry.register(BASELANGUAGE_NAMESPACE, reloadClassesFacet);
      myFacetRegistry.register(CORELANGUAGE_NAMESPACE, makeFacet);
    } catch (Throwable t) {
      throw new RuntimeException(t);
    }
  }

  public void dispose() {
    myFacetRegistry.unregister(javaCompileFacet);
    myFacetRegistry.unregister(reloadClassesFacet);
    myFacetRegistry.unregister(makeFacet);
  }
}
