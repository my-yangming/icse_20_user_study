public String log(){
  long now=System.currentTimeMillis();
  return String.format("Peer %s [%8s]\n" + "ping msg: count %d, max-average-min-last: %d %d %d %d\n" + "connect time: %ds\n" + "last know block num: %s\n" + "needSyncFromPeer:%b\n" + "needSyncFromUs:%b\n" + "syncToFetchSize:%d\n" + "syncToFetchSizePeekNum:%d\n" + "syncBlockRequestedSize:%d\n" + "remainNum:%d\n" + "syncChainRequested:%d\n" + "blockInProcess:%d\n",getNode().getHost() + ":" + getNode().getPort(),getNode().getHexIdShort(),getNodeStatistics().pingMessageLatency.getCount(),getNodeStatistics().pingMessageLatency.getMax(),getNodeStatistics().pingMessageLatency.getAvrg(),getNodeStatistics().pingMessageLatency.getMin(),getNodeStatistics().pingMessageLatency.getLast(),(now - getStartTime()) / 1000,fastForwardBlock != null ? fastForwardBlock.getNum() : blockBothHave.getNum(),isNeedSyncFromPeer(),isNeedSyncFromUs(),syncBlockToFetch.size(),syncBlockToFetch.size() > 0 ? syncBlockToFetch.peek().getNum() : -1,syncBlockRequested.size(),remainNum,syncChainRequested == null ? 0 : (now - syncChainRequested.getValue()) / 1000,syncBlockInProcess.size()) + nodeStatistics.toString() + "\n";
}
