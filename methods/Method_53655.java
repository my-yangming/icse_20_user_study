/** 
 * ??????????????????
 */
@Scheduled(cron="0 0 0 * * ?") public void cronJob(){
  List<Pay> list=payDao.getByStateIsNotAndStateIsNot(0,1);
  for (  Pay p : list) {
    try {
      payService.delPay(p.getId());
    }
 catch (    Exception e) {
      log.error("??????" + p.getId() + "??");
      e.printStackTrace();
    }
  }
  log.info("??????????????????");
  List<Pay> list1=payDao.getByStateIs(0);
  for (  Pay p : list1) {
    p.setState(2);
    p.setUpdateTime(new Date());
    try {
      payService.updatePay(p);
    }
 catch (    Exception e) {
      log.error("???????" + p.getId() + "?????");
      e.printStackTrace();
    }
  }
  log.info("??????????????????");
}
