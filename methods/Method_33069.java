private JFXAnimationTimer createDrawerAnimation(Duration duration){
  return new JFXAnimationTimer(new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> overlayPane.opacityProperty()).setEndValueSupplier(() -> !hasMiniSize() ? 1 - translateTo / initTranslate.get() : (resizeTo == getMiniDrawerSize() ? 0 : 1)).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> translateProperty).setEndValueSupplier(() -> !hasMiniSize() ? translateTo : 0).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> prefSizeProperty).setEndValueSupplier(() -> getDefaultDrawerSize()).setAnimateCondition(() -> !hasMiniSize() && translateTo == initTranslate.get()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> maxSizeProperty).setEndValueSupplier(() -> getDefaultDrawerSize()).setAnimateCondition(() -> !hasMiniSize() && translateTo == initTranslate.get()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> prefSizeProperty).setEndValueSupplier(() -> tempDrawerSize).setAnimateCondition(() -> translateTo == 0 && tempDrawerSize > getDefaultDrawerSize() && !hasMiniSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> maxSizeProperty).setEndValueSupplier(() -> tempDrawerSize).setAnimateCondition(() -> translateTo == 0 && tempDrawerSize > getDefaultDrawerSize() && !hasMiniSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> prefSizeProperty).setEndValueSupplier(() -> getMiniDrawerSize()).setAnimateCondition(() -> hasMiniSize() && resizeTo <= getMiniDrawerSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> maxSizeProperty).setEndValueSupplier(() -> getMiniDrawerSize()).setAnimateCondition(() -> hasMiniSize() && resizeTo <= getMiniDrawerSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> prefSizeProperty).setEndValueSupplier(() -> getDefaultDrawerSize()).setAnimateCondition(() -> hasMiniSize() && resizeTo > getMiniDrawerSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> maxSizeProperty).setEndValueSupplier(() -> getDefaultDrawerSize()).setAnimateCondition(() -> hasMiniSize() && resizeTo > getMiniDrawerSize()).setInterpolator(Interpolator.EASE_BOTH).build()),new JFXKeyFrame(duration,JFXKeyValue.builder().setTargetSupplier(() -> paddingSizeProperty).setEndValueSupplier(this::computePaddingSize).setAnimateCondition(() -> isResizeContent()).setInterpolator(Interpolator.EASE_BOTH).build()));
}
